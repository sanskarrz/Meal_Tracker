{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\"; // Use relative URL for web, which will go through the proxy\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[3], \"react/jsx-dev-runtime\");\n  const API_URL = '';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  const AuthProvider = ({\n    children\n  }) => {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        if (storedToken) {\n          setToken(storedToken);\n          await fetchUserData(storedToken);\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const fetchUserData = async authToken => {\n      try {\n        const response = await axios.default.get(`${API_URL}/api/auth/me`, {\n          headers: {\n            Authorization: `Bearer ${authToken}`\n          }\n        });\n        setUser(response.data);\n      } catch (error) {\n        console.error('Error fetching user data:', error);\n        await AsyncStorage.default.removeItem('token');\n        setToken(null);\n        setUser(null);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        setToken(access_token);\n        await fetchUserData(access_token);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    };\n    const register = async (username, email, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/api/auth/register`, {\n          username,\n          email,\n          password,\n          daily_calorie_goal: 2000\n        });\n        const {\n          access_token\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        setToken(access_token);\n        await fetchUserData(access_token);\n      } catch (error) {\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    };\n    const logout = async () => {\n      await AsyncStorage.default.removeItem('token');\n      setToken(null);\n      setUser(null);\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        loading,\n        login,\n        register,\n        logout\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 5\n    }, this);\n  };\n  const useAuth = () => {\n    const context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n});","lineCount":132,"map":[[4,63,5,0],[5,2,5,0,"Object"],[5,8,5,0],[5,9,5,0,"defineProperty"],[5,23,5,0],[5,24,5,0,"exports"],[5,31,5,0],[6,4,5,0,"value"],[6,9,5,0],[7,2,5,0],[8,2,5,0],[8,11,5,0,"_interopDefault"],[8,27,5,0,"e"],[8,28,5,0],[9,4,5,0],[9,11,5,0,"e"],[9,12,5,0],[9,16,5,0,"e"],[9,17,5,0],[9,18,5,0,"__esModule"],[9,28,5,0],[9,31,5,0,"e"],[9,32,5,0],[10,6,5,0,"default"],[10,13,5,0],[10,15,5,0,"e"],[11,4,5,0],[12,2,5,0],[13,2,25,0,"Object"],[13,8,25,0],[13,9,25,0,"defineProperty"],[13,23,25,0],[13,24,25,0,"exports"],[13,31,25,0],[14,4,25,0,"enumerable"],[14,14,25,0],[15,4,25,0,"get"],[15,7,25,0],[15,18,25,0,"get"],[15,19,25,0],[16,6,25,0],[16,13,25,0,"AuthProvider"],[16,25,25,0],[17,4,25,0],[18,2,25,0],[19,2,107,0,"Object"],[19,8,107,0],[19,9,107,0,"defineProperty"],[19,23,107,0],[19,24,107,0,"exports"],[19,31,107,0],[20,4,107,0,"enumerable"],[20,14,107,0],[21,4,107,0,"get"],[21,7,107,0],[21,18,107,0,"get"],[21,19,107,0],[22,6,107,0],[22,13,107,0,"useAuth"],[22,20,107,0],[23,4,107,0],[24,2,107,0],[25,2,1,0],[25,6,1,0,"_react"],[25,12,1,0],[25,15,1,0,"require"],[25,22,1,0],[25,23,1,0,"_dependencyMap"],[25,37,1,0],[26,2,2,0],[26,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,2,0],[26,45,2,0,"require"],[26,52,2,0],[26,53,2,0,"_dependencyMap"],[26,67,2,0],[27,2,2,0],[27,6,2,0,"AsyncStorage"],[27,18,2,0],[27,21,2,0,"_interopDefault"],[27,36,2,0],[27,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,2,0],[28,2,3,0],[28,6,3,0,"_axios"],[28,12,3,0],[28,15,3,0,"require"],[28,22,3,0],[28,23,3,0,"_dependencyMap"],[28,37,3,0],[29,2,3,0],[29,6,3,0,"axios"],[29,11,3,0],[29,14,3,0,"_interopDefault"],[29,29,3,0],[29,30,3,0,"_axios"],[29,36,3,0],[30,2,3,26],[30,6,3,26,"_reactJsxDevRuntime"],[30,25,3,26],[30,28,3,26,"require"],[30,35,3,26],[30,36,3,26,"_dependencyMap"],[30,50,3,26],[31,2,6,0],[31,8,6,6,"API_URL"],[31,15,6,13],[31,18,6,16],[31,20,6,18],[32,2,23,0],[32,8,23,6,"AuthContext"],[32,19,23,17],[32,35,23,20],[32,39,23,20,"createContext"],[32,45,23,33],[32,46,23,33,"createContext"],[32,59,23,33],[32,61,23,63,"undefined"],[32,70,23,72],[32,71,23,73],[33,2,25,7],[33,8,25,13,"AuthProvider"],[33,20,25,66],[33,23,25,69,"AuthProvider"],[33,24,25,70],[34,4,25,72,"children"],[35,2,25,81],[35,3,25,82],[35,8,25,87],[36,4,26,2],[36,10,26,8],[36,11,26,9,"user"],[36,15,26,13],[36,17,26,15,"setUser"],[36,24,26,22],[36,25,26,23],[36,28,26,26],[36,32,26,26,"useState"],[36,38,26,34],[36,39,26,34,"useState"],[36,47,26,34],[36,49,26,48],[36,53,26,52],[36,54,26,53],[37,4,27,2],[37,10,27,8],[37,11,27,9,"token"],[37,16,27,14],[37,18,27,16,"setToken"],[37,26,27,24],[37,27,27,25],[37,30,27,28],[37,34,27,28,"useState"],[37,40,27,36],[37,41,27,36,"useState"],[37,49,27,36],[37,51,27,52],[37,55,27,56],[37,56,27,57],[38,4,28,2],[38,10,28,8],[38,11,28,9,"loading"],[38,18,28,16],[38,20,28,18,"setLoading"],[38,30,28,28],[38,31,28,29],[38,34,28,32],[38,38,28,32,"useState"],[38,44,28,40],[38,45,28,40,"useState"],[38,53,28,40],[38,55,28,41],[38,59,28,45],[38,60,28,46],[39,4,30,2],[39,8,30,2,"useEffect"],[39,14,30,11],[39,15,30,11,"useEffect"],[39,24,30,11],[39,26,30,12],[39,32,30,18],[40,6,31,4,"loadStoredAuth"],[40,20,31,18],[40,21,31,19],[40,22,31,20],[41,4,32,2],[41,5,32,3],[41,7,32,5],[41,9,32,7],[41,10,32,8],[42,4,34,2],[42,10,34,8,"loadStoredAuth"],[42,24,34,22],[42,27,34,25],[42,33,34,25,"loadStoredAuth"],[42,34,34,25],[42,39,34,37],[43,6,35,4],[43,10,35,8],[44,8,36,6],[44,14,36,12,"storedToken"],[44,25,36,23],[44,28,36,26],[44,34,36,32,"AsyncStorage"],[44,46,36,44],[44,47,36,44,"default"],[44,54,36,44],[44,55,36,45,"getItem"],[44,62,36,52],[44,63,36,53],[44,70,36,60],[44,71,36,61],[45,8,37,6],[45,12,37,10,"storedToken"],[45,23,37,21],[45,25,37,23],[46,10,38,8,"setToken"],[46,18,38,16],[46,19,38,17,"storedToken"],[46,30,38,28],[46,31,38,29],[47,10,39,8],[47,16,39,14,"fetchUserData"],[47,29,39,27],[47,30,39,28,"storedToken"],[47,41,39,39],[47,42,39,40],[48,8,40,6],[49,6,41,4],[49,7,41,5],[49,8,41,6],[49,15,41,13,"error"],[49,20,41,18],[49,22,41,20],[50,8,42,6,"console"],[50,15,42,13],[50,16,42,14,"error"],[50,21,42,19],[50,22,42,20],[50,43,42,41],[50,45,42,43,"error"],[50,50,42,48],[50,51,42,49],[51,6,43,4],[51,7,43,5],[51,16,43,14],[52,8,44,6,"setLoading"],[52,18,44,16],[52,19,44,17],[52,24,44,22],[52,25,44,23],[53,6,45,4],[54,4,46,2],[54,5,46,3],[55,4,48,2],[55,10,48,8,"fetchUserData"],[55,23,48,21],[55,26,48,24],[55,32,48,31,"authToken"],[55,41,48,48],[55,45,48,53],[56,6,49,4],[56,10,49,8],[57,8,50,6],[57,14,50,12,"response"],[57,22,50,20],[57,25,50,23],[57,31,50,29,"axios"],[57,36,50,34],[57,37,50,34,"default"],[57,44,50,34],[57,45,50,35,"get"],[57,48,50,38],[57,49,50,39],[57,52,50,42,"API_URL"],[57,59,50,49],[57,73,50,63],[57,75,50,65],[58,10,51,8,"headers"],[58,17,51,15],[58,19,51,17],[59,12,51,19,"Authorization"],[59,25,51,32],[59,27,51,34],[59,37,51,44,"authToken"],[59,46,51,53],[60,10,51,56],[61,8,52,6],[61,9,52,7],[61,10,52,8],[62,8,53,6,"setUser"],[62,15,53,13],[62,16,53,14,"response"],[62,24,53,22],[62,25,53,23,"data"],[62,29,53,27],[62,30,53,28],[63,6,54,4],[63,7,54,5],[63,8,54,6],[63,15,54,13,"error"],[63,20,54,18],[63,22,54,20],[64,8,55,6,"console"],[64,15,55,13],[64,16,55,14,"error"],[64,21,55,19],[64,22,55,20],[64,49,55,47],[64,51,55,49,"error"],[64,56,55,54],[64,57,55,55],[65,8,56,6],[65,14,56,12,"AsyncStorage"],[65,26,56,24],[65,27,56,24,"default"],[65,34,56,24],[65,35,56,25,"removeItem"],[65,45,56,35],[65,46,56,36],[65,53,56,43],[65,54,56,44],[66,8,57,6,"setToken"],[66,16,57,14],[66,17,57,15],[66,21,57,19],[66,22,57,20],[67,8,58,6,"setUser"],[67,15,58,13],[67,16,58,14],[67,20,58,18],[67,21,58,19],[68,6,59,4],[69,4,60,2],[69,5,60,3],[70,4,62,2],[70,10,62,8,"login"],[70,15,62,13],[70,18,62,16],[70,24,62,16,"login"],[70,25,62,23,"username"],[70,33,62,39],[70,35,62,41,"password"],[70,43,62,57],[70,48,62,62],[71,6,63,4],[71,10,63,8],[72,8,64,6],[72,14,64,12,"response"],[72,22,64,20],[72,25,64,23],[72,31,64,29,"axios"],[72,36,64,34],[72,37,64,34,"default"],[72,44,64,34],[72,45,64,35,"post"],[72,49,64,39],[72,50,64,40],[72,53,64,43,"API_URL"],[72,60,64,50],[72,77,64,67],[72,79,64,69],[73,10,65,8,"username"],[73,18,65,16],[74,10,66,8,"password"],[75,8,67,6],[75,9,67,7],[75,10,67,8],[76,8,68,6],[76,14,68,12],[77,10,68,14,"access_token"],[78,8,68,27],[78,9,68,28],[78,12,68,31,"response"],[78,20,68,39],[78,21,68,40,"data"],[78,25,68,44],[79,8,69,6],[79,14,69,12,"AsyncStorage"],[79,26,69,24],[79,27,69,24,"default"],[79,34,69,24],[79,35,69,25,"setItem"],[79,42,69,32],[79,43,69,33],[79,50,69,40],[79,52,69,42,"access_token"],[79,64,69,54],[79,65,69,55],[80,8,70,6,"setToken"],[80,16,70,14],[80,17,70,15,"access_token"],[80,29,70,27],[80,30,70,28],[81,8,71,6],[81,14,71,12,"fetchUserData"],[81,27,71,25],[81,28,71,26,"access_token"],[81,40,71,38],[81,41,71,39],[82,6,72,4],[82,7,72,5],[82,8,72,6],[82,15,72,13,"error"],[82,20,72,23],[82,22,72,25],[83,8,73,6],[83,14,73,12],[83,18,73,16,"Error"],[83,23,73,21],[83,24,73,22,"error"],[83,29,73,27],[83,30,73,28,"response"],[83,38,73,36],[83,40,73,38,"data"],[83,44,73,42],[83,46,73,44,"detail"],[83,52,73,50],[83,56,73,54],[83,70,73,68],[83,71,73,69],[84,6,74,4],[85,4,75,2],[85,5,75,3],[86,4,77,2],[86,10,77,8,"register"],[86,18,77,16],[86,21,77,19],[86,27,77,19,"register"],[86,28,77,26,"username"],[86,36,77,42],[86,38,77,44,"email"],[86,43,77,57],[86,45,77,59,"password"],[86,53,77,75],[86,58,77,80],[87,6,78,4],[87,10,78,8],[88,8,79,6],[88,14,79,12,"response"],[88,22,79,20],[88,25,79,23],[88,31,79,29,"axios"],[88,36,79,34],[88,37,79,34,"default"],[88,44,79,34],[88,45,79,35,"post"],[88,49,79,39],[88,50,79,40],[88,53,79,43,"API_URL"],[88,60,79,50],[88,80,79,70],[88,82,79,72],[89,10,80,8,"username"],[89,18,80,16],[90,10,81,8,"email"],[90,15,81,13],[91,10,82,8,"password"],[91,18,82,16],[92,10,83,8,"daily_calorie_goal"],[92,28,83,26],[92,30,83,28],[93,8,84,6],[93,9,84,7],[93,10,84,8],[94,8,85,6],[94,14,85,12],[95,10,85,14,"access_token"],[96,8,85,27],[96,9,85,28],[96,12,85,31,"response"],[96,20,85,39],[96,21,85,40,"data"],[96,25,85,44],[97,8,86,6],[97,14,86,12,"AsyncStorage"],[97,26,86,24],[97,27,86,24,"default"],[97,34,86,24],[97,35,86,25,"setItem"],[97,42,86,32],[97,43,86,33],[97,50,86,40],[97,52,86,42,"access_token"],[97,64,86,54],[97,65,86,55],[98,8,87,6,"setToken"],[98,16,87,14],[98,17,87,15,"access_token"],[98,29,87,27],[98,30,87,28],[99,8,88,6],[99,14,88,12,"fetchUserData"],[99,27,88,25],[99,28,88,26,"access_token"],[99,40,88,38],[99,41,88,39],[100,6,89,4],[100,7,89,5],[100,8,89,6],[100,15,89,13,"error"],[100,20,89,23],[100,22,89,25],[101,8,90,6],[101,14,90,12],[101,18,90,16,"Error"],[101,23,90,21],[101,24,90,22,"error"],[101,29,90,27],[101,30,90,28,"response"],[101,38,90,36],[101,40,90,38,"data"],[101,44,90,42],[101,46,90,44,"detail"],[101,52,90,50],[101,56,90,54],[101,77,90,75],[101,78,90,76],[102,6,91,4],[103,4,92,2],[103,5,92,3],[104,4,94,2],[104,10,94,8,"logout"],[104,16,94,14],[104,19,94,17],[104,25,94,17,"logout"],[104,26,94,17],[104,31,94,29],[105,6,95,4],[105,12,95,10,"AsyncStorage"],[105,24,95,22],[105,25,95,22,"default"],[105,32,95,22],[105,33,95,23,"removeItem"],[105,43,95,33],[105,44,95,34],[105,51,95,41],[105,52,95,42],[106,6,96,4,"setToken"],[106,14,96,12],[106,15,96,13],[106,19,96,17],[106,20,96,18],[107,6,97,4,"setUser"],[107,13,97,11],[107,14,97,12],[107,18,97,16],[107,19,97,17],[108,4,98,2],[108,5,98,3],[109,4,100,2],[109,24,101,4],[109,28,101,4,"_reactJsxDevRuntime"],[109,47,101,4],[109,48,101,4,"jsxDEV"],[109,54,101,4],[109,56,101,5,"AuthContext"],[109,67,101,16],[109,68,101,17,"Provider"],[109,76,101,25],[110,6,101,26,"value"],[110,11,101,31],[110,13,101,33],[111,8,101,35,"user"],[111,12,101,39],[112,8,101,41,"token"],[112,13,101,46],[113,8,101,48,"loading"],[113,15,101,55],[114,8,101,57,"login"],[114,13,101,62],[115,8,101,64,"register"],[115,16,101,72],[116,8,101,74,"logout"],[117,6,101,81],[117,7,101,83],[118,6,101,83,"children"],[118,14,101,83],[118,16,102,7,"children"],[119,4,102,15],[120,6,102,15,"fileName"],[120,14,102,15],[120,16,102,15,"_jsxFileName"],[120,28,102,15],[121,6,102,15,"lineNumber"],[121,16,102,15],[122,6,102,15,"columnNumber"],[122,18,102,15],[123,4,102,15],[123,11,103,26],[123,12,103,27],[124,2,105,0],[124,3,105,1],[125,2,107,7],[125,8,107,13,"useAuth"],[125,15,107,20],[125,18,107,23,"useAuth"],[125,19,107,23],[125,24,107,29],[126,4,108,2],[126,10,108,8,"context"],[126,17,108,15],[126,20,108,18],[126,24,108,18,"useContext"],[126,30,108,28],[126,31,108,28,"useContext"],[126,41,108,28],[126,43,108,29,"AuthContext"],[126,54,108,40],[126,55,108,41],[127,4,109,2],[127,8,109,6],[127,9,109,7,"context"],[127,16,109,14],[127,18,109,16],[128,6,110,4],[128,12,110,10],[128,16,110,14,"Error"],[128,21,110,19],[128,22,110,20],[128,64,110,62],[128,65,110,63],[129,4,111,2],[130,4,112,2],[130,11,112,9,"context"],[130,18,112,16],[131,2,113,0],[131,3,113,1],[132,0,113,2],[132,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","fetchUserData","login","register","logout","useAuth"],"mappings":"AAA;qECwB;YCK;GDE;yBEE;GFY;wBGE;GHY;gBIE;GJa;mBKE;GLe;iBME;GNI;CDO;uBQE;CRM"},"hasCjsExports":false},"type":"js/module"}]}